<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>NutriMaster</title>
        <meta name="author" content="The Author"></meta>
    </h:head>
    <!-- Add 50px padding top to the body for the navbar -->
    <h:body style="padding-top: 50px; padding-bottom: 20px;">
        <b:navBar brand="NutriMaster" brandHref="#" inverse="true" fixed="top">
            <b:navbarLinks>

            </b:navbarLinks>
            <h:form styleClass="navbar-form navbar-right">
                <b:commandButton action="a" value="Seja bem vindo, #{usuarioBean.usuario.nome}!" look="success"/>
            </h:form>
        </b:navBar>

        <h:form id="formDieta">

            <h2>Cadastrar Dieta</h2>

            <b:jumbotron>
                <!--Escrever um Converter-->
                    <p:panelGrid columns="1" layout="grid" style="width: 100%">
                        <p:panelGrid columns="2" style="width: 70%; margin: 0 auto;" layout="grid">
                            <p:outputLabel for="paciente" value="Paciente" style="text-align: center"/>
                            <p:outputLabel for="semana" value="Dia da Semana" style="text-align: center"/>
                            <p:selectOneMenu id="paciente" required="false" value="#{dietaBean.pacienteStr}" filter="true" filterMatchMode="contains" style="width:125px">
                                <f:selectItem itemLabel="-" itemValue="null" />
                                <f:selectItems value="#{usuarioBean.retornaUsuariosPacientesCod()}" var="usuario" itemLabel="#{usuarioBean.retornaNome(usuario)}"/>
                                <p:ajax update="formDieta"/>
                            </p:selectOneMenu>
                            <p:selectOneMenu id="semana" value="#{calendarioAlimentacaoBean.diaSemana}" filter="true" filterMatchMode="contains" style="width:125px">
                                <f:selectItems value="#{calendarioAlimentacaoBean.retornaDiasSemana()}"/>
                            </p:selectOneMenu>
                        </p:panelGrid>

                        <p:panelGrid columns="2" style="width: 70%; margin: 0 auto;">
                            <p:outputLabel for="alimento" value="Alimentos" style="text-align: center"/>
                            <h:outputLabel for="basic" value="Qtde.: " />
                            <h:panelGrid columns="2">
                                <p:selectOneMenu id="alimento" value="#{calendarioAlimentacaoBean.alimento}" filter="true" filterMatchMode="contains" style="width:125px">
                                    <f:selectItems value="#{calendarioAlimentacaoBean.retornaListNomeAlimentos()}"/>
                                </p:selectOneMenu>
                                <p:commandButton icon="fa fa-plus" onclick="PF('dlg2').show();" title="Adicionar Alimentos"/>
                            </h:panelGrid>
                            <p:spinner id="basic" value="#{calendarioAlimentacaoBean.qtdeAlimento}" maxlength="2" size="3"/>
                        </p:panelGrid>
                        <p:commandButton value="Adicionar Alimento a Lista" action="#{calendarioAlimentacaoBean.adicionarAlimentoLista()}" update="formDieta"/>
                    </p:panelGrid>

                          </b:jumbotron>


        </h:form>

        <h:form>
            <p:dialog id="dialogAlimento" header="Adicionar Alimento" widgetVar="dlg2" modal="true" width="500px">
                <p:panelGrid columns="2" layout="grid">
                    <h:outputText value="Alimento:"/>
                    <p:inputText value="#{calendarioAlimentacaoBean.objAlimento.alimento}"/>
                    <h:outputText value="Gorduras Totais:"/>
                    <p:inputNumber value="#{calendarioAlimentacaoBean.objAlimento.gordurasTotais}" decimalPlaces="2"  symbol=" g" symbolPosition="s"/>
                    <h:outputText value="Valor EnergÃ©tico:"/>
                    <p:inputNumber value="#{calendarioAlimentacaoBean.objAlimento.vlrEnergetico}" decimalPlaces="2" symbol=" kal" symbolPosition="s"/>
                    <p:commandButton value="Cadastrar" action="#{calendarioAlimentacaoBean.cadastrarAlimento()}"/>
                </p:panelGrid>

            </p:dialog> 
        </h:form>

    </h:body>

</ui:composition>
