<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:p="http://primefaces.org/ui"
                xmlns="http://www.w3.org/1999/xhtml"
                template="/resource/padraoSistema.xhtml">

    <!-- Add 50px padding top to the body for the navbar -->

    <ui:define name="content">
        <b:growl id="growlMsg" globalOnly="true" placementFrom="bottom"
                 show-detail="true" show-summary="false" allowDismiss="true"
                 delay="10000" escape="true" />
        <h:body style="padding-top: 50px; padding-bottom: 20px;">
            <h:form>
                <b:jumbotron>
                    <b:container>
                        <h2>Bem vindo ao mundo da Nutrição, #{usuarioBean.usuario.nome}!</h2>
                    </b:container>
                </b:jumbotron>
                <b:container>
                    <b:row>
                        <b:column col-md="4">
                            <h2>Criar Dieta</h2>
                            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, 
                                ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
                            <p><b:commandButton action="#{usuarioBean.isUsuarioAllowedOnDieta()}" value="Criar Dieta"/></p>
                        </b:column>
                        <b:column col-md="4">
                            <h2>Heading</h2>
                            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, 
                                ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
                            <p><b:button outcome="" value="View details »"/></p>
                        </b:column>
                        <b:column col-md="4">
                            <h2>Nutricionistas para Aprovar</h2>
                            <p>Aqui você poderá aprovar os usuários de seus colegas nutricionistas. Qualquer nutricionista poderá
                            validar o usuário de outro nutricionista.</p>
                            <p><b:commandButton action="#{usuarioBean.getNutricionistaNaoAprovados(true)}" value="Nutricionistas para aprovar:  #{usuarioBean.qtdeNutricionistasAprovar()}"/></p>
                        </b:column>
                    </b:row>
                    <hr/>
                    <footer>
                        <p>© Company 2014</p>
                    </footer>
                </b:container>

            </h:form>
            <h:form>
                <p:dialog header="Effects" widgetVar="dlg3" showEffect="explode" hideEffect="bounce" width="90%" closable="true">
                    <b:jumbotron>
                        <h3>Aprovar Nutricionistas:</h3>
                        <p:dataTable var="info" id="info" value="#{usuarioBean.nutricionistaNaoLiberados}" rowHover="true">
                            <p:column headerText="Nome" style="text-align: center">
                                <h:outputText value="#{info.nome}" />
                            </p:column>
       
                            <p:column headerText="Administrador" style="text-align: center" >
                                <h:outputText value="Sim" rendered="#{info.administrador}"/>
                                <h:outputText value="Náo" rendered="#{!info.administrador}"/>
                            </p:column>

                            <p:column headerText="Liberado" style="text-align: center" >
                                <h:outputText value="Sim" rendered="#{info.liberado}"/>
                                <h:outputText value="Náo" rendered="#{!info.liberado}"/>
                            </p:column>

                            <p:column>
                                <b:commandButton value="Confirmar Nutricionista" ajax="true" update="info"
                                                 action="#{usuarioBean.usuarioIsNutricionista(info)}" look="success"/>
                            </p:column>
                            <p:column>
                                <b:commandButton value="Tranformar Paciente" ajax="true" update="info"
                                                 action="#{usuarioBean.usuarioIsPaciente(info)}"  look="danger"/>
                            </p:column>           
                        </p:dataTable>
                    </b:jumbotron>
                </p:dialog>
            </h:form>
        </h:body>
    </ui:define>
</ui:composition>
